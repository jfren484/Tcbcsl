@model PlayerStatisticsPageModel
@{
    var title = $"Statistics - {Model.Player.PlayerFirstName} {Model.Player.PlayerLastName}";
    ViewBag.Title = title + Model.Year.AsTitleSuffix();

    var ajaxData = Model.Player.PlayerId + "/" + Model.Year.AsRouteParameter();
}
@Html.Partial("_YearsPartial", Model.Year)
<h2>@title</h2>
@Html.Partial("_StatsTable", "statsTable")
<p>* The second AVG column is @(Model.Year == YearEnum.All ? "career" : "season")-to-date cummulative average.</p>
@section scripts
{
    @if (Model.Year == YearEnum.All)
    {
        <script>
            $(function () {
                statstable_RenderPlayerCareerStats('@ajaxData');
            });
        </script>
    }
    else
    {
        <script>
            $(function () {
                statstable_RenderPlayerSeasonStats('@ajaxData');
            });
        </script>
    }
}
